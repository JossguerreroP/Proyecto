<div *ngIf="st">
  <div class="container" style="display: flex; flex-direction: row; height: 100vh; width: 100%;">

    <div class="column left" style="flex: 0 0 30%; padding-top: 3%;">
      <mat-tab-group #tabs style="width: 100%;" mat-stretch-tabs="false" mat-align-tabs="start">
      </mat-tab-group>
      <app-caso (datos)="getEntradasIniciales($event)"></app-caso>
    </div>
  
    <div class="column middle">
      <div style="width: 100%;overflow-x: auto;padding-bottom: 5%;padding-right:5%;">	
      <!-- Table 1: Generators -->


      <div style="flex-grow: 1; flex-shrink: 0; overflow: auto; padding: 10px;">
        <span><h4>Características iniciales :</h4></span>
        <span><h6>Tabla 1. Características de los generadores</h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowData"
          [columnDefs]="colDefs"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>
    
      <!-- Table 2: Lines -->
      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h5>Tabla 2. Características de las lineas</h5></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowData1"
          [columnDefs]="colDefsLineas"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h5>Tabla 3. Características de los nodos</h5></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowData2"
          [columnDefs]="colDefsNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h4>Resultados :</h4></span>
        <span><h5></h5></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenarios"
          [columnDefs]="colDefsEscenarios"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h5>Escenarios</h5></span>
        <span><h6>Escenario 1 : Sin RD ni GD </h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenario1"
          [columnDefs]="colDefsEscenariosNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h6>Escenario 2: RD sin GD </h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenario2"
          [columnDefs]="colDefsEscenariosNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h6>Escenario 3 :  GD sin RD</h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenario3"
          [columnDefs]="colDefsEscenariosNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h6> Escenario 4 : GD y RD</h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenario4"
          [columnDefs]="colDefsEscenariosNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 0; overflow: auto; padding: 10px;" *ngIf="metricas">
        <span><h4>Visualización de Métricas :</h4></span>
  
  <style>

  
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      padding: 10px;
      text-align: left;
      border: 1px solid #ddd;
    }
    th {
      background-color: #f4f4f4;
    }
    td {
      background-color: #f9f9f9;
    }
  </style>

    <div class="section">
     
      <table>
        <thead>
          <tr>
            <th>Línea</th>
            <th>Porcentaje</th>
          </tr>
        </thead>
        <tbody >
          <!-- Itera sobre las líneas de generadores -->
          <tr *ngFor="let linea of obj.metrica_lineas_generadores_atacados.lineas">
            <td>{{ linea.linea }}</td>
            <td>{{ linea.porcentaje }}%</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <h6>Tabla 2. Características de los generadores atacados</h6>
      <table>
        <thead>
          <tr>
            <th>Generador</th>
            <th>Porcentaje</th>
          </tr>
        </thead>
        <tbody>
          <!-- Datos de generadores -->
          <tr *ngFor="let generador of obj.metrica_lineas_generadores_atacados.generadores">
            <td>{{ generador.generador }}</td>
            <td>{{ generador.porcentaje }}%</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <h6>Tiempo de Ejecución</h6>
      <p>{{ obj.tiempo_ejecucion.toFixed(2) }} segundos</p>
    </div>

      </div>
    </div>
  </div>
</div>
</div>


<div *ngIf="sd">
  <div class="container" style="display: flex; flex-direction: row; height: 100vh; width: 100%;">

    <div class="column left" style="flex: 0 0 30%; padding-top: 3%;">
      <mat-tab-group #tabs style="width: 100%;" mat-stretch-tabs="false" mat-align-tabs="start">
      </mat-tab-group>
      <app-caso (datos)="getEntradasIniciales($event)"></app-caso>
    </div>
  
    <div class="column middle">
      <div style="width: 100%;overflow-x: auto;padding-bottom: 5%;padding-right:5%;">	
      <!-- Table 1: Generators -->
      <div style="flex-grow: 1; flex-shrink: 0; overflow: auto; padding: 10px;">
        <span><h4>Características iniciales :</h4></span>
        <span><h6>Tabla 1. Características de los generadores</h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowData"
          [columnDefs]="colDefs"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>
    
      <!-- Table 2: Lines -->
      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h5>Tabla 2. Características de las lineas</h5></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowData1"
          [columnDefs]="colDefsLineas"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h5>Tabla 3. Características de los nodos</h5></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowData2"
          [columnDefs]="colDefsNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h4>Resultados :</h4></span>
        <span><h5></h5></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenarios"
          [columnDefs]="colDefsEscenarios"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h5>Escenarios</h5></span>
        <span><h6>Escenario 1 : Sin RD ni GD </h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenario1"
          [columnDefs]="colDefsEscenariosNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h6>Escenario 2: RD sin GD </h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenario2"
          [columnDefs]="colDefsEscenariosNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h6>Escenario 3 :  GD sin RD</h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenario3"
          [columnDefs]="colDefsEscenariosNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 1; overflow: auto; padding: 10px;">
        <span><h6> Escenario 4 : GD y RD</h6></span>
        <ag-grid-angular
          class="ag-theme-quartz"
          style="width: 100%; height: 100%;"
          [rowData]="rowDataEscenario4"
          [columnDefs]="colDefsEscenariosNodos"
          [domLayout]="'autoHeight'"
          [autoSizeStrategy]="autoSizeStrategy">
        </ag-grid-angular>
      </div>

      <div style="flex-grow: 1; flex-shrink: 0; overflow: auto; padding: 10px;" *ngIf="metricas">
        <span><h4>Visualización de Métricas :</h4></span>
  
  <style>

  
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      padding: 10px;
      text-align: left;
      border: 1px solid #ddd;
    }
    th {
      background-color: #f4f4f4;
    }
    td {
      background-color: #f9f9f9;
    }
  </style>

    <div class="section">
     
      <table>
        <thead>
          <tr>
            <th>Línea</th>
            <th>Porcentaje</th>
          </tr>
        </thead>
        <tbody >
          <!-- Itera sobre las líneas de generadores -->
          <tr *ngFor="let linea of obj.metrica_lineas_generadores_atacados.lineas">
            <td>{{ linea.linea }}</td>
            <td>{{ linea.porcentaje }}%</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <h6>Tabla 2. Características de los generadores atacados</h6>
      <table>
        <thead>
          <tr>
            <th>Generador</th>
            <th>Porcentaje</th>
          </tr>
        </thead>
        <tbody>
          <!-- Datos de generadores -->
          <tr *ngFor="let generador of obj.metrica_lineas_generadores_atacados.generadores">
            <td>{{ generador.generador }}</td>
            <td>{{ generador.porcentaje }}%</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="section">
      <h6>Tiempo de Ejecución</h6>
      <p>{{ obj.tiempo_ejecucion.toFixed(2) }} segundos</p>
    </div>

      </div>
      
    </div>
  </div>
</div>
</div>